{
  "hash": "e82e5b0a7d7861eeb80c2e78d9507d02",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Python\n---\n\n\n\n\n# Why Python?\n\n## On Python\n\n* Python is free,\n* Python is very widely used,\n* Python is flexible,\n* Python is relatively easy to learn,\n* and Python is quite powerful.\n\n## Why not Python?\n\n- Python is a general purpose language used for Scientific Computing. \n- _Not_ to build apps, build software, manage databases, or develop user interfaces. \n- Solve scientific and mathematical problems.\n\n## Python libraries\n\nScientists often use the following:\n\n* [Python](https://www.python.org/),\n* [`numpy` (numerical Python)](https://www.numpy.org/),\n* [`matplotlib` (a suite of plotting tools)](https://matplotlib.org/),\n* [`scipy` (scientific Python)](https://www.scipy.org/), and\n* [`sympy` (symbolic Python)](https://www.sympy.org/en/index.html).\n\nWe'll get to these.\n\n# Running Example\n\n## Diving In\n\n- Taking Python as a given, we'll:\n    - Use an example of something I helped a student with recently\n    - Show step-by-step how to use Python\n    - Introduce a number of Python features to solve the problem more easily.\n- This was from an introductory physics class I believe; I don't know the context.\n\n## Motivating Example\n\n- Recently, I helped a student stuck on this:\n\n$$\nf(x) =\n\\begin{cases}\n  9x^2 + 5 & x < 4 \\\\\n  9 & 4 \\leq x \\leq 8 \\\\\n  2 - x & x > 8\n\\end{cases}\n$$\n\n- Find $f(x)$ for each of the following $x$ values:\n$$\n\\{-1, 4, 5, 8, 11\\}\n$$\n\n## Is this \"real\"?\n\n- Models income tax brackets, one of the most important drivers of human behavior in the largest economies in the world.\n- We use a simpler contrived example for now...\n\n<table style=\"font-size:12px\">\n<th>Marginal Tax Rate</th>\n<th>Single Taxable Income</th>\n<th>Married Filing Jointly or Qualified Widow(er) Taxable Income</th>\n<th>Married Filing Separately Taxable Income</th>\n<th>Head of Household Taxable Income</th>\n</tr>\n<tr>\n<th>10%</th>\n<td>$0 – $9,275</td>\n<td>$0 – $18,550</td>\n<td>$0 – $9,275</td>\n<td>$0 – $13,250</td>\n</tr>\n<tr>\n<th>15%</th>\n<td>$9,276 – $37,650</td>\n<td>$18,551 – $75,300</td>\n<td>$9,276 – $37,650</td>\n<td>$13,251 – $50,400</td>\n</tr>\n<tr>\n<th>25%</th>\n<td>$37,651 – $91,150</td>\n<td>$75,301 – $151,900</td>\n<td>$37,651 – $75,950</td>\n<td>$50,401 – $130,150</td>\n</tr>\n<tr>\n<th>28%</th>\n<td>$91,151 – $190,150</td>\n<td>$151,901 – $231,450</td>\n<td>$75,951 – $115,725</td>\n<td>$130,151 – $210,800</td>\n</tr>\n<tr>\n<th>33%</th>\n<td>$190,151 – $413,350</td>\n<td>$231,451 – $413,350</td>\n<td>$115,726 – $206,675</td>\n<td>$210,801 – $413,350</td>\n</tr>\n<tr>\n<th>35%</th>\n<td>$413,351 – $415,050</td>\n<td>$413,351 – $466,950</td>\n<td>$206,676 – $233,475</td>\n<td>$413,351 – $441,000</td>\n</tr>\n<tr>\n<th>39.6%</th>\n<td>$415,051+</td>\n<td>$466,951+</td>\n<td>$233,476+</td>\n<td>$441,001+</td>\n</table>\n\n\n## How to solve?\n\n- Think about how you would solve such a problem.\n- What steps would you take?\n- What would making solving it hard?\n    - Keep track of details?\n    - Performing the arithmetic?\n    - Anything else?\n- Python, in my view, is a way to solve these problems.\n\n## Python in action\n\n- My preferred way to do calculation as an experienced Python user is writing *code*:\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n- Mathematical expression\n$$\n\\begin{cases}\n  9x^2 + 5 & x < 4 \\\\\n  9 & 4 \\leq x \\leq 8 \\\\\n  2 - x & x > 8\n\\end{cases}\n$$\n:::\n\n::: {.column width=\"50%\"}\n\n- Python expression (code)\n\n::: {#3f10465c .cell execution_count=2}\n``` {.python .cell-code}\n9 * -1 * -1 + 5\n```\n\n::: {.cell-output .cell-output-display execution_count=3411}\n```\n14\n```\n:::\n:::\n\n\n:::\n\n::::\n\n- I write `x * x` for $x^2$ because it's non-obvious how to write \"squared\" yet.\n\n## Arithmetic Operations\n\n- In Python, we can write many of the same arithmetic operations we use in our math and science classes.\n\n::: {#c42706f0 .cell execution_count=3}\n``` {.python .cell-code}\n6 + 3\n```\n\n::: {.cell-output .cell-output-display execution_count=3412}\n```\n9\n```\n:::\n:::\n\n\n::: {#0a93024a .cell execution_count=4}\n``` {.python .cell-code}\n6 - 3\n```\n\n::: {.cell-output .cell-output-display execution_count=3413}\n```\n3\n```\n:::\n:::\n\n\n::: {#9c803c38 .cell execution_count=5}\n``` {.python .cell-code}\n6 * 3\n```\n\n::: {.cell-output .cell-output-display execution_count=3414}\n```\n18\n```\n:::\n:::\n\n\n::: {#cc525fea .cell execution_count=6}\n``` {.python .cell-code}\n6 / 3\n```\n\n::: {.cell-output .cell-output-display execution_count=3415}\n```\n2.0\n```\n:::\n:::\n\n\n## Wait?\n\n- Use Python? How?\n- To use Python to make this calculation, first we must install Python.\n    - It is a program, like Firefox, MS Word or Fortnite\n\n# Installing Python\n\n## Warning!\n\n- There is a very important box to check while installing!\n    - Be careful working ahead!\n    - We'll teach how to fix not checking this box *but not for a while*\n\n## Installation\n\n- We go to the offial webpage to get an installer for our computer:\n    - [https://www.python.org/downloads/](https://www.python.org/downloads/)\n- Be careful about starting it!\n    - You can open it and check the next slide.\n\n## Add Python to PATH\n\n![](img/add-python-to-path.png)\n\n## Why?\n\n- The benefit of adding Python to path is that we can use it at\n- &lt;dramatic music&gt;\n- *The Command Line*\n    - A text-based interface to computing resources, including its ability to do e.g. arithmetic and save notes.\n\n## Terminal\n\n- On MS Windows\n    - I press Windows key, type \"terminal\" then press enter.\n- On MacOS\n    - I open Launchpad, type \"terminal\" then press enter.\n\n\n## MacOS\n\n![](img/zsh.png)\n\n## Windows\n\n![](img/ps.webp)\n\n\n## Expression evaluation\n\n- Returning to the terminal, we can type at the \"prompt\".\n- On MacOS, perhaps a line that begins with `$` and a flashing cursor\n- On Window, perhaps `PS C:\\Users\\calvin>`\n    - `PS` stands for \"powershell\" - more latter.\n    - `C:\\Users\\calvin` is the name of a folder - more latter\n    - `>` is the prompt, with a flashing cursor.\n\n## \"Run\" Python\n\n*In the following examples, I remove line numbers to denote they are not Python code snippets.*\n\n- On Windows, type `python`\n```{.ps filename=\"Windows\" code-line-numbers=\"false\"}\nPS C:\\Users\\calvin> python\n```\n- On MacOS, type `python3`\n```{.zsh filename=\"MacOS\" code-line-numbers=\"false\"}\n$ python3\n```\n- On both, press the **↵ᴇɴᴛᴇʀ** key.\n\n## See Python\n\n- You'll see something like this:\n```{.email code-line-numbers=\"false\"}\nPython 3.12.5 (tags/v3.12.5:ff3bc82, Aug  6 2024, 20:45:27) [MSC v.1940 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>>\n```\n- Take note of the prompt!\n- `>>>`\n- Those three are how you know it is Python, and not the Terminal, that you are working in.\n\n## Example\n\n- If I type `python` at the command line\n- Then `9 * -1 * -1 + 5` *within* Python\n- It will look like this:\n\n```{.email code-line-numbers=\"false\"}\nPS C:\\Users\\calvin> python\nPython 3.12.5 (tags/v3.12.5:ff3bc82, Aug  6 2024, 20:45:27) [MSC v.1940 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> 9 * -1 * -1 + 5\n14\n>>>\n```\n\n- This is how Python shows that `9 * -1 * -1 + 5` is `14`\n\n# Evaluating Expressions\n\n## Recall\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n$$\n\\begin{cases}\n  9x^2 + 5 & x < 4 \\\\\n  9 & 4 \\leq x \\leq 8 \\\\\n  2 - x & x > 8\n\\end{cases}\n$$\n$$\n\\{-1, 4, 5, 8, 11\\}\n$$\n\n:::\n\n::: {.column width=\"50%\"}\n\n```{.python code-line-numbers=\"false\"}\n>>> 9 * -1 * -1 + 5\n14\n>>> 9\n9\n>>> 9\n9\n>>> 2 - 8\n-6\n>>> 2 - 11\n-9\n```\n\n:::\n\n::::\n\n- This is still quite tedious and annoying!\n\n## (In)equality testing\n\n- Like `+` or `-` which we use to calculate numbers...\n- We can use `<` or `>` to calculate inequalities.\n- Specifically, we see whether an inequality is `True` or `False`\n\n::: {#7e2b67bc .cell execution_count=7}\n``` {.python .cell-code}\n-1 < 4\n```\n\n::: {.cell-output .cell-output-display execution_count=3416}\n```\nTrue\n```\n:::\n:::\n\n\n::: {#ecdd5fc7 .cell execution_count=8}\n``` {.python .cell-code}\n4 < 4\n```\n\n::: {.cell-output .cell-output-display execution_count=3417}\n```\nFalse\n```\n:::\n:::\n\n\n## Accomodating Keyboards\n\n- Some things aren't super easy to type.\n- I don't have a \"$\\leq$\" key on my keyboard.\n- Combine with `=` as `<=` for \"less than or equal\" or \"$\\leq$\"\n\n::: {#b4b811f7 .cell execution_count=9}\n``` {.python .cell-code}\n4 <= 4\n```\n\n::: {.cell-output .cell-output-display execution_count=3418}\n```\nTrue\n```\n:::\n:::\n\n\n- We can \"chain\" inequalities as well - one after another.\n\n::: {#1f222bfa .cell execution_count=10}\n``` {.python .cell-code}\n4 <= 4 <= 8\n```\n\n::: {.cell-output .cell-output-display execution_count=3419}\n```\nTrue\n```\n:::\n:::\n\n\n## A note\n\n- We always put the equal sign `=` second.\n\n::: {#498d19de .cell execution_count=11}\n``` {.python .cell-code}\n4 <= 5\n```\n\n::: {.cell-output .cell-output-display execution_count=3420}\n```\nTrue\n```\n:::\n:::\n\n\n::: {#aaa0d785 .cell execution_count=12}\n``` {.python .cell-code}\n5 >= 4\n```\n\n::: {.cell-output .cell-output-display execution_count=3421}\n```\nTrue\n```\n:::\n:::\n\n\n- A (somewhat confusing) error if we try `=>`\n\n```{.email code-line-numbers=\"false\"}\n>>> 4 => 5\n  File \"<stdin>\", line 1\n    4 => 5\n    ^\nSyntaxError: cannot assign to literal\n```\n\n# `=` and `==`\n\n## New Topics\n\n- We have now touch on two new topics:\n    - `True` and `False`\n        - Expressions which don't *evaluate* to a number\n        - Called \"booleans\"\n    - \"Assignment\"\n        - Associated with the `=` sign\n        - Different from inequality testing!\n- We'll explore both!\n\n## Booleans\n\n- Sometimes, a Python *expression* is a numerical value.\n\n::: {#8d92f8ed .cell execution_count=13}\n``` {.python .cell-code}\n2 + 2\n```\n\n::: {.cell-output .cell-output-display execution_count=3422}\n```\n4\n```\n:::\n:::\n\n\n::: {#be24cb00 .cell execution_count=14}\n``` {.python .cell-code}\n7\n```\n\n::: {.cell-output .cell-output-display execution_count=3423}\n```\n7\n```\n:::\n:::\n\n\n- But it doesn't have to be!\n\n::: {#1d4d7025 .cell execution_count=15}\n``` {.python .cell-code}\n2 < 2\n```\n\n::: {.cell-output .cell-output-display execution_count=3424}\n```\nFalse\n```\n:::\n:::\n\n\n## If\n\n- Booleans are mostly useful for writing `if` statements.\n    - These are *multiline* expressions in Python.\n- To see the result of multi-line expression, we have to print the result...\n\n::: {#ba8e98b4 .cell execution_count=16}\n``` {.python .cell-code}\nif (1 <= 1):\n    print(2 + 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n4\n```\n:::\n:::\n\n\n::: {#11b18ccb .cell execution_count=17}\n``` {.python .cell-code}\nif (1 < 1):\n    print(2 + 2)\n```\n:::\n\n\n## Piecewise\n\n- We can see the immediate use of this in a piecewise function!\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n$$\n\\begin{cases}\n  9x^2 + 5 & x < 4 \\\\\n  9 & 4 \\leq x \\leq 8 \\\\\n  2 - x & x > 8\n\\end{cases}\n$$\n$$\n\\{-1, 4, 5, 8, 11\\}\n$$\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {#ed14bb2e .cell execution_count=18}\n``` {.python .cell-code}\nif (-1 < 4):\n    print(9 * -1 * -1 + 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n14\n```\n:::\n:::\n\n\n- Or least part of one...\n\n::: {#cca66479 .cell execution_count=19}\n``` {.python .cell-code}\nif (4 < 4):\n    print(9 * 4 * 4 + 5)\n```\n:::\n\n\n- Uh oh!\n\n:::\n\n::::\n\n\n## Else\n\n- Oftentimes, we use `if` with `else`\n\n::: {#2354e8a4 .cell execution_count=20}\n``` {.python .cell-code}\nif (1 < 1):\n    print(\"1 is less than 1\")\nelse:\n    print(\"1 is not less than 1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n1 is not less than 1\n```\n:::\n:::\n\n\n## Elif\n\n- If we have more than two options, we can place a special `elif` in the middle.\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n::: {#a916d857 .cell execution_count=21}\n``` {.python .cell-code}\nif (1 < 1):\n    print(\"1 is less than 1\")\nelif (1 > 1):\n    print(\"1 is greater than 1\")\nelse:\n    print(\"1 is equal to 1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n1 is equal to 1\n```\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {#8b164962 .cell execution_count=22}\n``` {.python .cell-code}\nif (2 < 1):\n    print(\"2 is less than 1\")\nelif (2 > 1):\n    print(\"2 is greater than 1\")\nelse:\n    print(\"2 is equal to 1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n2 is greater than 1\n```\n:::\n:::\n\n\n:::\n\n::::\n\n- By the way, it is extremely obnoxious to manually type `2` in *5 different places*\n\n## Assignment\n\n- We can also assign variables!\n    - I call this *single-equals assignment*\n    - Use a single equals sign `=` and some variable name, like `x`\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n::: {#29bb8730 .cell execution_count=23}\n``` {.python .cell-code}\nx = 1\nif (x < 1):\n    print(\"x is less than 1\")\nelif (x > 1):\n    print(\"x is greater than 1\")\nelse:\n    print(\"x is equal to 1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nx is equal to 1\n```\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {#64d013f6 .cell execution_count=24}\n``` {.python .cell-code}\nx = 2\nif (x < 1):\n    print(\"x is less than 1\")\nelif (x > 1):\n    print(\"x is greater than 1\")\nelse:\n    print(\"x is equal to 1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nx is greater than 1\n```\n:::\n:::\n\n\n:::\n\n::::\n\n## Double equals equality\n\n- I call it *single-equals assignment* because sometimes we check if a variable is precisely equal to some value.\n- That is somewhat confusingly done with `==` *double equals equality* test.\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n::: {#d3681f6a .cell execution_count=25}\n``` {.python .cell-code}\nx = 1\nif (x == 1):\n    print(\"x is equal to 1\")\nelse:\n    print(\"x is not equal to 1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nx is equal to 1\n```\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {#beea292f .cell execution_count=26}\n``` {.python .cell-code}\nx = 2\nif (x == 1):\n    print(\"x is equal to 1\")\nelse:\n    print(\"x is not equal to 1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nx is not equal to 1\n```\n:::\n:::\n\n\n:::\n\n::::\n\n## Double ** Exponentation\n\n- Doubling is used in a few other cases.\n- Double asterisk `**` is exponentiation.\n\n::: {#6746c6d4 .cell execution_count=27}\n``` {.python .cell-code}\n5 ** 2\n```\n\n::: {.cell-output .cell-output-display execution_count=3436}\n```\n25\n```\n:::\n:::\n\n\n## Piecewise\n\n- We can finally write the piecewise expression!\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n$$\n\\begin{cases}\n  9x^2 + 5 & x < 4 \\\\\n  9 & 4 \\leq x \\leq 8 \\\\\n  2 - x & x > 8\n\\end{cases}\n$$\n$$\n\\{-1, 4, 5, 8, 11\\}\n$$\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {#b037ff19 .cell execution_count=28}\n``` {.python .cell-code}\nx = 11\nif (x < 4):\n    print(9 * x ** 2 + 5)\nelif (4 <= x <= 8):\n    print(9)\nelif (x > 8):\n    print(2 - x)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n-9\n```\n:::\n:::\n\n\n:::\n\n::::\n\n# Code Reuse\n\n## Recycle\n\n- It is still extremely tedious to either:\n    - Copy-paste, or\n    - Type more than once.\n- Also very annoying/difficult to write them many lines without error!\n- We introduce the `def` keyword to define `functions`\n- A way to reuse code we have already written.\n\n## `def`\n\n::: {#5cd365c2 .cell execution_count=29}\n``` {.python .cell-code}\ndef double(x):\n    print(x + x)\n```\n:::\n\n\n- `def` + *some function name* + `(` + *some variable name* + `):`\n\n::: {#6899b0e5 .cell execution_count=30}\n``` {.python .cell-code}\ndouble(7)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n14\n```\n:::\n:::\n\n\n- \"Call\" functions the same way we call `print` - with parens.\n\n## `return`\n\n- It is more common to use `return` than `print` in a function.\n- When we call a function, we can think of it as expression with some value.\n- That value is defined by the value that is return.\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n::: {#1fcacdcd .cell execution_count=31}\n``` {.python .cell-code}\ndef six_gt_five_return():\n    print(True)\n```\n:::\n\n\n::: {#f53cbf31 .cell execution_count=32}\n``` {.python .cell-code}\nif (six_gt_five_return()):\n    print(\"it is\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTrue\n```\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {#59975a04 .cell execution_count=33}\n``` {.python .cell-code}\ndef six_gt_five_print():\n    return True\n```\n:::\n\n\n::: {#7a6c9631 .cell execution_count=34}\n``` {.python .cell-code}\nif (six_gt_five_print()):\n    print(\"it is\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nit is\n```\n:::\n:::\n\n\n:::\n\n::::\n\n## Example\n\n- Suppose an interest rate doubles our savings every ~7 years.\n- How much savings in 14 years?\n\n::: {#1e2e8b72 .cell execution_count=35}\n``` {.python .cell-code}\nsavings = 10\nsavings = double(savings)\nsavings\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n20\n```\n:::\n:::\n\n\n## Use return\n\n::: {#c745cbd9 .cell execution_count=36}\n``` {.python .cell-code}\ndef double(x):\n    return x + x\n```\n:::\n\n\n- Now, `double(savings)` becomes equal to `x + x`\n\n::: {#072705fe .cell execution_count=37}\n``` {.python .cell-code}\nsavings = 10\nsavings = double(savings)\nsavings\n```\n\n::: {.cell-output .cell-output-display execution_count=3446}\n```\n20\n```\n:::\n:::\n\n\n::: {#fd93ffd3 .cell execution_count=38}\n``` {.python .cell-code}\ndouble(savings)\n```\n\n::: {.cell-output .cell-output-display execution_count=3447}\n```\n40\n```\n:::\n:::\n\n\n- Or even\n\n::: {#849f71ba .cell execution_count=39}\n``` {.python .cell-code}\ndouble(double(10))\n```\n\n::: {.cell-output .cell-output-display execution_count=3448}\n```\n40\n```\n:::\n:::\n\n\n## Piecewise\n\n- We can finally write the piecewise function (was: expression)!\n    - Function: use many times in many expressions\n    - Expression: evaluate once and get one answer\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n$$\n\\begin{cases}\n  9x^2 + 5 & x < 4 \\\\\n  9 & 4 \\leq x \\leq 8 \\\\\n  2 - x & x > 8\n\\end{cases}\n$$\n$$\n\\{-1, 4, 5, 8, 11\\}\n$$\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {#867d20a4 .cell execution_count=40}\n``` {.python .cell-code}\ndef piecewise(x):\n    if (x < 4):\n        return 9 * x ** 2 + 5\n    elif (4 <= x <= 8):\n        return 9\n    elif (x > 8):\n        return 2 - x\n```\n:::\n\n\n::: {#d295b675 .cell execution_count=41}\n``` {.python .cell-code}\npiecewise(4)\n```\n\n::: {.cell-output .cell-output-display execution_count=3450}\n```\n9\n```\n:::\n:::\n\n\n:::\n\n::::\n\n# Iteration\n\n## Tedium\n\n- This is still quite tedious.\n\n::: {#f9032aec .cell execution_count=42}\n``` {.python .cell-code}\npiecewise(-1)\n```\n\n::: {.cell-output .cell-output-display execution_count=3451}\n```\n14\n```\n:::\n:::\n\n\n::: {#51ddc365 .cell execution_count=43}\n``` {.python .cell-code}\npiecewise(4)\n```\n\n::: {.cell-output .cell-output-display execution_count=3452}\n```\n9\n```\n:::\n:::\n\n\n::: {#00246b46 .cell execution_count=44}\n``` {.python .cell-code}\npiecewise(5)\n```\n\n::: {.cell-output .cell-output-display execution_count=3453}\n```\n9\n```\n:::\n:::\n\n\n::: {#598c4eef .cell execution_count=45}\n``` {.python .cell-code}\npiecewise(8)\n```\n\n::: {.cell-output .cell-output-display execution_count=3454}\n```\n9\n```\n:::\n:::\n\n\n::: {#1c7b8afc .cell execution_count=46}\n``` {.python .cell-code}\npiecewise(11)\n```\n\n::: {.cell-output .cell-output-display execution_count=3455}\n```\n-9\n```\n:::\n:::\n\n\n## Sets\n\n- This is a *set*:\n\n$$\n\\{-1, 4, 5, 8, 11\\}\n$$\n\n- A set is an *unordered* collection of *elements*.\n    - In this case, elements are integers - whole numbers.\n- Python can also recognize sets!\n\n::: {#a10b78fd .cell execution_count=47}\n``` {.python .cell-code}\n{-1, 4, 5, 8, 11}\n```\n\n::: {.cell-output .cell-output-display execution_count=3456}\n```\n{-1, 4, 5, 8, 11}\n```\n:::\n:::\n\n\n## Type\n\n- To be sure that is, in fact, a set, we use the helpful built-in `type()` to ask Python.\n\n::: {#06e4e518 .cell execution_count=48}\n``` {.python .cell-code}\ns = {-1, 4, 5, 8, 11}\ntype(s)\n```\n\n::: {.cell-output .cell-output-display execution_count=3457}\n```\nset\n```\n:::\n:::\n\n\n- We have also worked with **int**egers.\n\n::: {#d32ea2dc .cell execution_count=49}\n``` {.python .cell-code}\ntype(1)\n```\n\n::: {.cell-output .cell-output-display execution_count=3458}\n```\nint\n```\n:::\n:::\n\n\n- And ***bool**eans* - `True` and `False` values.\n\n::: {#58c8c787 .cell execution_count=50}\n``` {.python .cell-code}\ntype(1 == 1)\n```\n\n::: {.cell-output .cell-output-display execution_count=3459}\n```\nbool\n```\n:::\n:::\n\n\n## Loops\n\n- With a set, do something *to each element*\n- In Python, use a `for` loop:\n    - The `for` keyword\n    - The name to refer to an element, like `e` or `x`\n    - The `in` keyword\n    - The set/collection (or its variable name)\n    - The `:` colon special character\n    - An indented new line of code\n\n## Example\n\n- for element in collection\n    - do thing\n\n::: {#b08d337c .cell execution_count=51}\n``` {.python .cell-code}\nfor e in {-1, 4, 5, 8, 11}:\n    print(piecewise(e))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n9\n9\n9\n-9\n14\n```\n:::\n:::\n\n\n- What do you see?\n\n## Example\n\n- What if we just try to print the elements?\n    - Easier to think about!\n\n::: {#c1a9fb0b .cell execution_count=52}\n``` {.python .cell-code}\nfor e in {-1, 4, 5, 8, 11}:\n    print(e)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n4\n5\n8\n11\n-1\n```\n:::\n:::\n\n\n- What do you see?\n\n## Ordering\n\n- Recall: \"A set is an *unordered* collection of *elements*\".\n- We need to put things in order!\n- The most common way to do this in Python is with a *list*.\n- Almost the same as sets, just use \"boxy brackets\" `[]`\n\n::: {#65c4ef7a .cell execution_count=53}\n``` {.python .cell-code}\ntype([1,2,3])\n```\n\n::: {.cell-output .cell-output-display execution_count=3462}\n```\nlist\n```\n:::\n:::\n\n\n## Example\n\n- for element in collection\n    - do thing\n\n::: {#b9539327 .cell execution_count=54}\n``` {.python .cell-code}\nfor e in [-1, 4, 5, 8, 11]:\n    print(piecewise(e))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n14\n9\n9\n9\n-9\n```\n:::\n:::\n\n\n- What do you see?\n\n## Seeing lists\n\n- We can also use lists to print multiple values!\n    - Very helpful for keeping track of things!\n\n::: {#2577aa98 .cell execution_count=55}\n``` {.python .cell-code}\nfor e in [-1, 4, 5, 8, 11]:\n    print([e, piecewise(e)])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[-1, 14]\n[4, 9]\n[5, 9]\n[8, 9]\n[11, -9]\n```\n:::\n:::\n\n\n## Updating lists\n\n- Each element is a lot like a variable.\n    - They just have a name *and* number, use `[]`\n    - The initial element is number `0` (*not* 1)\n\n::: {#d9456670 .cell execution_count=56}\n``` {.python .cell-code}\nxs = [-1, 4, 5, 8, 11]\nxs[0]\n```\n\n::: {.cell-output .cell-output-display execution_count=3465}\n```\n-1\n```\n:::\n:::\n\n\n- And like variables, we can assign a value with `=`\n\n::: {#edd9db49 .cell execution_count=57}\n``` {.python .cell-code}\nxs[0] = -2\nxs\n```\n\n::: {.cell-output .cell-output-display execution_count=3466}\n```\n[-2, 4, 5, 8, 11]\n```\n:::\n:::\n\n\n## Adding lists\n\n- Lists also helpfully support addition with `+`\n\n::: {#ddb10f5e .cell execution_count=58}\n``` {.python .cell-code}\n[-1] + [4, 5, 8, 11]\n```\n\n::: {.cell-output .cell-output-display execution_count=3467}\n```\n[-1, 4, 5, 8, 11]\n```\n:::\n:::\n\n\n- We often use this to make new lists.\n\n::: {#4db02158 .cell execution_count=59}\n``` {.python .cell-code}\nresult = []\nfor e in [-1, 4, 5, 8, 11]:\n    result = result + [piecewise(e)]\n```\n:::\n\n\n- This pattern also works with numbers!\n\n::: {#1b463b1b .cell execution_count=60}\n``` {.python .cell-code}\nx = 0 \nx = x + 1\nx\n```\n\n::: {.cell-output .cell-output-display execution_count=3469}\n```\n1\n```\n:::\n:::\n\n\n# Exercise\n\n## Income tax\n\n- Recall the example of a piecewise function:\n\n<table style=\"font-size:12px\">\n<th>Marginal Tax Rate</th>\n<th>Single Taxable Income</th>\n<th>Married Filing Jointly or Qualified Widow(er) Taxable Income</th>\n<th>Married Filing Separately Taxable Income</th>\n<th>Head of Household Taxable Income</th>\n</tr>\n<tr>\n<th>10%</th>\n<td>$0 – $9,275</td>\n<td>$0 – $18,550</td>\n<td>$0 – $9,275</td>\n<td>$0 – $13,250</td>\n</tr>\n<tr>\n<th>15%</th>\n<td>$9,276 – $37,650</td>\n<td>$18,551 – $75,300</td>\n<td>$9,276 – $37,650</td>\n<td>$13,251 – $50,400</td>\n</tr>\n<tr>\n<th>25%</th>\n<td>$37,651 – $91,150</td>\n<td>$75,301 – $151,900</td>\n<td>$37,651 – $75,950</td>\n<td>$50,401 – $130,150</td>\n</tr>\n<tr>\n<th>28%</th>\n<td>$91,151 – $190,150</td>\n<td>$151,901 – $231,450</td>\n<td>$75,951 – $115,725</td>\n<td>$130,151 – $210,800</td>\n</tr>\n<tr>\n<th>33%</th>\n<td>$190,151 – $413,350</td>\n<td>$231,451 – $413,350</td>\n<td>$115,726 – $206,675</td>\n<td>$210,801 – $413,350</td>\n</tr>\n<tr>\n<th>35%</th>\n<td>$413,351 – $415,050</td>\n<td>$413,351 – $466,950</td>\n<td>$206,676 – $233,475</td>\n<td>$413,351 – $441,000</td>\n</tr>\n<tr>\n<th>39.6%</th>\n<td>$415,051+</td>\n<td>$466,951+</td>\n<td>$233,476+</td>\n<td>$441,001+</td>\n</table>\n\n## Singles only...\n\n| Rate   | From    |\n|--------|--------:|\n| 10%    | 0       |\n| 15%    | 9275    |\n| 25%    | 37650   |\n| 28%    | 91150   |\n| 33%    | 190150  |\n| 35%    | 413350  |\n| 39.6%  | 415050  |\n\n## Motivating example\n\n- How much would a single making 400k pay?\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n- 10% on 9275\n- 15% on 37650 - 9275\n- 25% on 91150 - 37650\n- 28% on 190150 - 91150\n- 33% on 400000 - 190150\n\n:::\n\n::: {.column width=\"50%\"}\n\n| Rate   | From    |\n|--------|--------:|\n| 10%    | 0       |\n| 15%    | 9275    |\n| 25%    | 37650   |\n| 28%    | 91150   |\n| 33%    | 190150  |\n| 35%    | 413350  |\n| 39.6%  | 415050  |\n\n:::\n\n::::\n\n## Sum it up!\n\n- Watch out for order-of-operations!\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n- 10% on 9275\n- 15% on 37650 - 9275\n- 25% on 91150 - 37650\n- 28% on 190150 - 91150\n- 33% on 400000 - 190150\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {#f96bea7e .cell execution_count=61}\n``` {.python .cell-code}\nx = .10 * 9275\ny = .15 * (37650 - 9275)\nz = .25 * (91150 - 37650)\nr = .28 * (190150 - 91150)\ns = .33 * (400000 - 190150)\nx + y + z + r + s\n```\n\n::: {.cell-output .cell-output-display execution_count=3470}\n```\n115529.25\n```\n:::\n:::\n\n\n:::\n\n::::\n\n## Add as you go\n\n- We may set a variable to an expression *over that variable*\n    - I think of this as an \"old\" version of the variable on the right side of the equal sign.\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n::: {#85f40c42 .cell execution_count=62}\n``` {.python .cell-code}\nx = .10 * 9275\nx = x + .15 * (37650 - 9275)\nx = x + .25 * (91150 - 37650)\nx = x + .28 * (190150 - 91150)\nx + .33 * (400000 - 190150)\n```\n\n::: {.cell-output .cell-output-display execution_count=3471}\n```\n115529.25\n```\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {#5704b647 .cell execution_count=63}\n``` {.python .cell-code}\nx = .10 * 9275\ny = .15 * (37650 - 9275)\nz = .25 * (91150 - 37650)\nr = .28 * (190150 - 91150)\ns = .33 * (400000 - 190150)\nx + y + z + r + s\n```\n\n::: {.cell-output .cell-output-display execution_count=3472}\n```\n115529.25\n```\n:::\n:::\n\n\n:::\n\n::::\n\n## Assign-update\n\n- We may use an \"assignment operator\" `+=`\n    - Reassign a variable based on the result of an arithmetic operation.\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n::: {#2638a1a3 .cell execution_count=64}\n``` {.python .cell-code}\nx = .10 * 9275\nx = x + .15 * (37650 - 9275)\nx = x + .25 * (91150 - 37650)\nx = x + .28 * (190150 - 91150)\nx + .33 * (400000 - 190150)\n```\n\n::: {.cell-output .cell-output-display execution_count=3473}\n```\n115529.25\n```\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {#082d796f .cell execution_count=65}\n``` {.python .cell-code}\nx = .10 * 9275\nx += .15 * (37650 - 9275)\nx += .25 * (91150 - 37650)\nx += .28 * (190150 - 91150)\nx + .33 * (400000 - 190150)\n```\n\n::: {.cell-output .cell-output-display execution_count=3474}\n```\n115529.25\n```\n:::\n:::\n\n\n:::\n\n::::\n\n## Exercise\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n- Write function\n- `def single_tax(pay):`\n- *Return* tax cost.\n    - Return not print!\n- Bonus: Also write `single_tax_rate` which returns the percent tax rate at some income level.\n\n:::\n\n::: {.column width=\"50%\"}\n\n| Rate   | From    |\n|--------|--------:|\n| 10%    | 0       |\n| 15%    | 9275    |\n| 25%    | 37650   |\n| 28%    | 91150   |\n| 33%    | 190150  |\n| 35%    | 413350  |\n| 39.6%  | 415050  |\n\n:::\n\n::::\n\n## Solution\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n- Spoiler alert!\n\n::: {#00381d74 .cell execution_count=66}\n``` {.python .cell-code code-fold=\"true\"}\ndef single_tax(pay):\n    tax = 0\n    if pay > 415050:\n        tax += (pay - 415050) * .396\n        pay = 415050\n    if pay > 413350:\n        tax += (pay - 413350) * .35\n        pay = 413350\n    if pay > 190150:\n        tax += (pay - 190150) * .33\n        pay = 190150\n    if pay > 91150:\n        tax += (pay - 91150) * .28\n        pay = 91150\n    if pay > 37650:\n        tax += (pay - 37650) * .25\n        pay = 37650\n    if pay > 9275:\n        tax += (pay - 9275) * .15\n        pay = 9275\n    return tax + pay * .1\n```\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n- The solution gives the following results!\n\n::: {#83f82fce .cell execution_count=67}\n``` {.python .cell-code}\n[\n    single_tax(100000),\n    single_tax(100000),\n    single_tax(200000),\n    single_tax(300000),\n    single_tax(400000),\n]\n```\n\n::: {.cell-output .cell-output-display execution_count=3476}\n```\n[21036.75, 21036.75, 49529.25, 82529.25, 115529.25]\n```\n:::\n:::\n\n\n- `115529.25` matches our calculations.\n\n:::\n\n::::\n\n## Challenge Problem\n\n- Calculate at what income does the tax rate reach the second highest marginal tax rate of 35%?\n    - That is, at what `pay` does `tax == pay * .35`\n\n::: {#9de9653b .cell execution_count=68}\n``` {.python .cell-code code-fold=\"true\"}\nm = .396\nb = 0\nb += (415050 - 413350) * .35\nb += (413350 - 190150) * .33\nb += (190150 - 91150) * .28\nb += (91150 - 37650) * .25\nb += (37650 - 9275) * .15\nb += 9275 * .1\n(m * -415050 + b)/(.35 - m)\n```\n\n::: {.cell-output .cell-output-display execution_count=3477}\n```\n952827.173913043\n```\n:::\n:::\n\n\n## Bonus Solution\n\n- `single_tax` with loops\n\n::: {#7fab23d1 .cell execution_count=69}\n``` {.python .cell-code code-fold=\"true\"}\ndef single_tax(pay):\n    tax_policy = [\n        [415050, .396], \n        [413350, .35],\n        [190150, .33],\n        [91150, .28],\n        [37650, .25],\n        [9275, .15]\n    ]\n    tax = 0\n    for bracket in tax_policy:\n        if pay > bracket[0]:\n            tax += (pay - bracket[0]) * bracket[1]\n            pay = bracket[0]\n    return tax + pay * .1\n```\n:::\n\n\n",
    "supporting": [
      "01_python_files\\figure-revealjs"
    ],
    "filters": [],
    "includes": {}
  }
}